@page "/translate"
@rendermode InteractiveServer
@inject ViewModels.TranslateViewModel vm

<div class="translate-container">
    <PageHeader Title="多语言翻译" ShowActions="true">
        <ActionButton OnClick="ChooseLan">选择语言</ActionButton>
        <ActionButton OnClick="vm.TranslateAsync" IsPrimary="true">翻译</ActionButton>
    </PageHeader>

    <div class="translate-content">
        <ContentSection Title="原文">
            <textarea @bind="vm.OriginalContext"
                      placeholder="请输入需要翻译的文本..."
                      class="text-area"
                      @bind:event="oninput"></textarea>
        </ContentSection>

        @if (!string.IsNullOrEmpty(vm.ResultContent))
        {
            <ContentSection Title="译文">
                <div class="result-content">@vm.ResultContent</div>
            </ContentSection>
        }
    </div>
</div>

@code {
    private void ChooseLan()
    {
        vm.ChooseLan();
    }
}
